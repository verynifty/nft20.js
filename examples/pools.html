<!DOCTYPE html>
<html>

<head>
    <script src="https://unpkg.com/nft20"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.slim.min.js"
        integrity="sha256-u7e5khyithlIdTpu22PHhENmPcRdFiHRjhAuHcs05RI=" crossorigin="anonymous"></script>

</head>

<body>
    <h1>NFT20.js Examples</h1>
    <h2>Listing pool</h2>
    <select id="pool_list">

    </select>
</body>

<script>

    $(document).ready(async function () {
        let nft20 = new NFT20("https://mainnet.infura.io/v3/a634422ef8f84eeab6c55d89d1a38e5d");

        $("#pool_list").change(async function (a) {
            let selectedPool = this.value;
            let nfts = await nft20.getPoolContent(selectedPool)
            console.log(nfts)
        });

        // We first load all pools
        let pools = await nft20.getPools();
        pools.forEach(pool => {
            $("#pool_list").append('<option value="' + pool.nft + '">' + pool.name + '</option>')
        });


    });
</script>

</html>